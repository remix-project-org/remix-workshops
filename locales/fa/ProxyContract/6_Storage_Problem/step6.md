# اگر متغیرهای حالت داشته باشیم چه؟

مسائل پیچیده‌تر می‌شوند وقتی که باید با متغیرهای دولتی سر و کار داشته باشیم.  متغیرهای وضعیت در **ذخیره‌سازی** ذخیره می‌شوند.

`storage`: یک نگاشت است؛ هر مقداری که در آن ذخیره شود پایدار و بر روی زنجیره ذخیره می‌شود.

\*توجه: متغیرهای حالت با اندازه ثابت (همه چیز به جز نوع‌های نگاشت و آرایه‌های با اندازه پویا) به صورت پیوسته در ذخیره از موقعیت ۰ قرار می‌گیرند. آیتم‌های متعددی که به طور هم‌زمان کمتر از ۳۲ بایت نیاز دارند، اگر ممکن باشد در یک فضای ذخیره‌سازی واحد بسته‌بندی می‌شوند. برای قراردادهایی که از وراثت استفاده می‌کنند، ترتیب متغیرهای حالت با توجه به ترتیب خطی C3 از قراردادها تعیین می‌شود که از قرارداد پایه‌تر شروع می‌شود

زمانی که ما **فراخوانی واگذار** را اجرا کنیم، ذخیره‌سازی هر دو قرارداد به یک وضعیت بهم ریخته و واحد **ادغام** می‌شود.

ما باید به ProxyContract بگوییم که وضعیت قرارداد منطق چگونه به نظر می‌رسد.

راحت‌ترین راه برای انجام این کار ایجاد یک قرارداد جداگانه به نام **StorageContract** است که نمایانگر **وضعیت** باشد و قرارداد proxyContract از آن ارث‌بری کند.
