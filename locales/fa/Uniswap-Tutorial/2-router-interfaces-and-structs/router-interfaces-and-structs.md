کل قرارداد UniswapSwapExamples تنها در بخش ۵ این آموزش ارائه خواهد شد.  قبل از آن، ما بلوک‌های کد را ایجاد خواهیم کرد.

این بخش به بررسی رابط `ISwapRouter` می‌پردازد که توابعی را تعریف می‌کند که می‌توان روی قرارداد مبادله Uniswap فراخوانی کرد.

تبادلات تک‌گام به کاربران اجازه می‌دهد تا یک توکن را مستقیماً در یک استخر نقدینگی با توکن دیگر مبادله کنند.
تبادلات چند مرحله‌ای به کاربران اجازه می‌دهد تا یک توکن را برای توکن دیگر از طریق چندین توکن مبادله کنند.

رابط‌ها در سالیدیتی توابعی را مشخص می‌کنند که باید در قراردادی که آن‌ها را به ارث می‌برد، گنجانده شوند.  آنها برای اعلام اینکه چه عملکردهایی پشتیبانی می‌شوند و همچنین برای تسهیل ادغام و تعامل بین قراردادهای مختلف مفید هستند.

ساختارها برای تعریف نوع‌های داده سفارشی استفاده می‌شوند.

## رابط ISwapRouter

رابط ISwapRouter توابعی را تعریف می‌کند که می‌توان بر روی قرارداد مبادله Uniswap فراخوانی کرد. ما به استفاده از این رابط نیاز داریم تا با قرارداد مبادله یونی‌سواپ تعامل کنیم و مبادلات را انجام دهیم.

در خط ۵، یک متغیر ثابت به نام `router` تعریف می‌کنیم که از نوع `ISwapRouter` است. ما مقدار این متغیر را به نمونه رابط یک قرارداد هوشمند که در آدرس `0xE592427A0AEce92De3Edee1F18E0157C05861564` مستقر شده است، تنظیم می‌کنیم. این آدرس قرارداد مبادله Uniswap V3 در شبکه اصلی اتریوم است.

در خط 9، ما یک رابط به نام `ISwapRouter` تعریف می‌کنیم. این رابط دو تابع را تعریف می کند: `exactInputSingle` و `exactInput`.

## ورودی دقیق تنها

در خط ۲۵، ما یک ساختار به نام `ExactInputSingleParams` تعریف می‌کنیم. این ساختار پارامترهای مورد نیاز برای تابع exactInputSingle ما در خط 21 را تعریف می کند، که یک تعویض تک پرش را اجرا خواهد کرد. این ساختار پارامترهای زیر را دارد:

- **`آدرس tokenIn`**: آدرس توکنی که در حال ارسال است.
- **`آدرس tokenOut`**: آدرس توکنی که دریافت می‌شود.
- **`uint24 هزینه`**: هزینه مرتبط با تعویض.
- **`نشانی گیرنده`**: نشانی که توکن خروجی را دریافت خواهد کرد.
- **`uint deadline`**: یک زمان‌بر برای پردازش تراکنش که باید تا آن زمان تعویض انجام شود.
- **`uint amountIn`**: مقدار توکن ورودی که ارسال می‌شود.
- **`مقدار حداقلی خروجی`**: حداقل مقدار توکن خروجی که فرستنده آماده است قبول کند، برای حفاظت در برابر حرکات نامطلوب قیمت.
- **`uint160 sqrtPriceLimitX96`**: یک محدودیت بر روی قیمت، که به فرمت خاصی نمایش داده می‌شود، تا از وقوع مبادله در قیمت‌های نامطلوب جلوگیری کند.

## ورودی دقیق

در خط ۲۵، ما یک ساختار به نام `ExactInputParams` تعریف می‌کنیم. این ساختار پارامترهایی را تعریف می‌کند که برای تابع `exactInput` ما در خط ۳۳ لازم است. این تابع یک مبادله چند مرحله ای را اجرا خواهد کرد. این ساختار پارامترهای زیر را دارد:

- **`مسیر بایت`**: اطلاعات رمزگذاری شده در مورد مسیر مبادله (یعنی کدام توکن‌ها باید مبادله شوند).
- **`نشانی گیرنده`**: نشانی که توکن‌های خروجی را دریافت می‌کند.
- **`uint deadline`**: مشابه مورد بالا، یک زمان‌بر است که تا آن زمان تراکنش باید پردازش شود.
- **`uint amountIn`**: مقدار توکن ورودی.
- **`uint amountOutMinimum`**: حداقل مقدار توکن خروجی که فرستنده انتظار دارد دریافت کند.

