ERC20 (درخواست نظرات اتریوم ۲۰) استانداردی برای قراردادهای توکن است که توکن‌های قابل تعویض را در بلاکچین اتریوم مدیریت می‌کند.

توکن‌های قابل تعویض همگی با یکدیگر برابر هستند و ارزش، رفتار و حقوق یکسانی دارند. توکن‌های قابل تعویض اغلب به عنوان واسطه مبادله، مانند ارزهای ETH یا BTC، استفاده می‌شوند. با این حال، آنها می‌توانند موارد استفاده دیگری مانند حق رأی یا اعتبار نیز داشته باشند.

اگر می‌خواهید درباره استاندارد توکن ERC20 بیشتر بدانید، به مشخصات موجود در <a href="https://eips.ethereum.org/EIPS/eip-20" target="_blank">پیشنهاد بهبود اتریوم</a> آن نگاهی بیندازید.

## رابط

برای اینکه مروری بر قابلیت‌های مورد نیاز یک قرارداد توکن ERC20 داشته باشیم، به رابطی که با یک قرارداد ERC20 تعامل دارد، نگاهی خواهیم انداخت.
این رابط (خط 9) بخشی از کتابخانه قرارداد متن‌باز ارائه شده توسط <a href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/v4.4.0/contracts/token/ERC20/IERC20.sol" target="_blank">OpenZeppelin</a> است.

## توابع ERC20

قراردادهایی که با استاندارد ERC20 مطابقت دارند باید شش عملکرد زیر را پیاده‌سازی کنند:

### تامین کل

تابع `totalSupply` (خط ۱۳) کل تعداد توکن‌های موجود را برمی‌گرداند.

### تعادل از

تابع `balanceOf` (خط ۱۸) تعداد توکن‌های متعلق به حسابی با آدرس `account` را برمی‌گرداند.

### تراکنش ها

تابع `transfer` (خط ۲۷) `مقدار` توکن‌ها را به آدرس `recipient` منتقل می‌کند.
این تابع **باید** یک رویداد `Transfer` (به پایین مراجعه کنید) را منتشر (تولید) کند و **باید** زمانی که فرستنده توکن‌های کافی برای انجام انتقال ندارد، یک استثنا صادر کند.

### تایید کند

تابع `approv` (خط ۵۲) به آدرس `spender` اجازه می‌دهد تا `amount` توکن‌ها را از طرف حسابی که تابع را فراخوانی می‌کند، منتقل کند.

### کمک هزینه

تابع `allowance` (خط ۳۶) مقدار توکن‌هایی را که آدرس `spender` مجاز است از طرف حسابی با آدرس `owner` خرج کند، برمی‌گرداند.

### انتقال از

تابع `transferFrom` (خط ۶۳) `مقداری` از توکن‌ها را از طرف آدرس `sender` به آدرس `recipient` منتقل می‌کند.
این تابع **باید** یک رویداد `Transfer` منتشر کند.

## رویدادهای ERC20

قراردادهای ERC20 همچنین باید دو رویداد را منتشر کنند:

### انتقال

رویداد `Transfer` (خط ۷۱) باید زمانی صادر شود که مقدار `value` توکن‌ها از حسابی با آدرس `indexed from` به `indexed to` منتقل شود. پارامترهای «از» و «تا» «ایندکس‌شده» هستند و به ما اجازه می‌دهند این رویدادها را با استفاده از پارامترهای اندیس‌گذاری‌شده به عنوان فیلتر جستجو کنیم.

### تایید

رویداد «تأیید» (خط ۷۷) باید زمانی صادر شود که حساب «مالک ایندکس‌شده» حساب «خرج‌کننده ایندکس‌شده» را برای انتقال «مقدار» توکن از طرف خود تأیید کند.

## توابع اختیاری ERC20

علاوه بر توابع و رویدادهای اجباری، سه تابع اختیاری نیز در استاندارد ERC20 مشخص شده است که در این رابط پیاده‌سازی نشده‌اند:

### نام

`function name()‎ نمای خارجی (رشته) را برمی‌گرداند.`

نام توکن را برمی‌گرداند.

### نماد

`تابع symbol() نمای خارجی (رشته) را برمی‌گرداند.`

نماد توکن را برمی‌گرداند.

### اعشاری

`تابع decimals() مقدار خروجی نمای خارجی (uint8) را برمی‌گرداند.`

تعداد ارقام اعشاری که توکن استفاده می‌کند را برمی‌گرداند.

ممکن است بخواهید از اعداد اعشاری استفاده کنید تا توکن شما هنگام نمایش به مقادیر دلخواه مانند ۱٫۵ ETH قابل تقسیم باشد. ماشین مجازی اتریوم (EVM) فقط از اعداد صحیح پشتیبانی می‌کند. به همین دلیل است که استاندارد ERC20 پیشنهاد می‌کند که قابلیت اعشاری پیاده‌سازی شود که مشخص می‌کند یک توکن چند رقم اعشار دارد. ۱۸ رقم اعشار استاندارد صنعت است.
