## پرس و جو در بلاکچین

در این آموزش، ما اسکریپتی را اجرا خواهیم کرد که با استفاده از یک کتابخانه جاوااسکریپت به بلاکچین درخواست می‌زند.

این به این معنی است که به جای استفاده از رابط کاربری Remix یا یک مرورگر بلاک مانند Etherscan، ما از یک اسکریپت در ویرایشگر استفاده خواهیم کرد و آن را از طریق ترمینال اجرا خواهیم کرد.

کتابخانه‌های جاوا اسکریپتی که بیشتر برای تعامل با بلاکچین استفاده می‌شوند، web3.js و ethers.js هستند.

بیایید با یک مثال ساده از web3.js، یعنی queryBlockNum.js شروع کنیم.

فراخوانی اسکریپت به web3.js در یک تابع ناهمزمان خوداجرا محصور شده است که شامل یک بلوک try/catch می‌باشد.

ما شماره بلوک فعلی را با استفاده از:`let blockNumber = await web3.eth.getBlockNumber()` می‌پرسیم

توجه داشته باشید که شی `web3` توسط Remix تزریق شده است. برای اطلاعات بیشتر در مورد web3.js، مستندات آن‌ها را بررسی کنید، <a href="https://web3js.readthedocs.io/" target="_blank">https://web3js.readthedocs.io</a>.

برای استفاده از web3.js یا ethers.js، شما باید محیط **Web3 تزریقی** یا **Provider Web3** را در ماژول **استقرار و اجرا** انتخاب کنید.  اسکریپت‌ها در حال حاضر با JSVM کار نمی‌کنند. **اگر شما تلاش کنید، یک خطا دریافت خواهید کرد.**

بنابراین برای این مثال، **Web3 تزریقی** را در ماژول استقرار و اجرا انتخاب کنید و متامسک را نصب کنید.

از ترمینال، دستور `remix.execute()` را اجرا کنید. این دستور فایل جاوا اسکریپت فعلی را با خط `let blockNumber = await web3.eth.getBlockNumber()` اجرا خواهد کرد.

در کنسول، شما باید شماره بلوک فعلی زنجیره‌ای که متامسک به آن متصل است را ببینید.
